@using BG.ContratacionWeb.Pyme.Helpers
@model BG.ContratacionWeb.Pyme.Dtos.ForViewEstadoCivilDto
@{
    ViewBag.Title = "Estado Civil";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@Html.Hidden("urlToInfoDomicilio", Url.Action("InfoDomicilio", "CreditoPyme"))

<link href="~/Content/Icomoon/icomoon.css" rel="stylesheet" />
<script src="~/Content/js/jquery.min.js"></script>
<script src="~/Content/js/main.js"></script>

@Html.AntiForgeryToken()

<style type="text/css">
    .upload-btn-wrapper {
        position: relative;
        overflow: hidden;
        display: inline-block;
    }

    .btn {
        /*border: 2px solid #e91771;*/
        color: #fff;
        background-color: #7C8D9E;
        padding: 2px 10px;
        /*border-radius: 8px;*/
        font-size: 14px;
        /*font-weight: bold;*/
    }

    .upload-btn-wrapper input[type=file] {
        font-size: 100px;
        position: absolute;
        left: 0;
        top: 0;
        opacity: 0;
    }
</style>

<section class="bg-form-layout">
    <div class="container">
        <div class="row justify-content-md-center">
            <div class="col-lg-4 col-12 stepsDsktp">
                <ul class="bg-steps-vertical" data-current="1" data-percentage="50">
                    <li>
                        <h4>Información personal</h4>
                        <p>Por favor completa tus datos</p>
                    </li>
                    <li>
                        <h4>Información de tu negocio</h4>
                        <p>Cuéntanos más de tu negocio</p>
                    </li>
                    <li>
                        <h4>Referencias financieras</h4>
                        <p>Ingresa los datos de tus cuentas</p>
                    </li>
                </ul>
            </div>
            <div class="col-lg-4 col-12 stepsMbl">
                <ul class="bg-steps " data-elements="3" data-current="1" data-percentage="50"></ul>
            </div>
            <div class="col-lg-8 col-12">
                <div class="wrapper wrp2">
                    <div class="bg-card bg-form-layout-inner">
                        <div class="bg-margin-top-medium">


                            <div id="idContainerPregunta">
                                <div class="bg-infoForm">
                                    <label>
                                        ¿Cuál es tu estado civil?
                                    </label>
                                    <p>
                                        @Model.EstadoCivil
                                    </p>
                                </div>
                                <div class="bg-infoForm">
                                    <label>
                                        ¿Es correcta esta información?
                                    </label>
                                    <a href="#" id="idSolteroSi" class="bg-button bg-primary" style="width: auto;">
                                        <span>Sí</span>
                                    </a>
                                    &nbsp;&nbsp;&nbsp;
                                    <a href="#" id="idSolteroNo" class="bg-button bg-primary" style="width: auto;">
                                        <span>No</span>
                                    </a>
                                </div>
                                <div class="bg-margin-top-medium bg-margin-bottom-medium" style="text-align: center;">
                                    <a href="@Url.Action("InfoPersonal", "CreditoPyme")" class=" linkBG02">Volver</a>
                                </div>
                            </div>


                            <div id="idContainerSelection" style="display:none">
                                <div class="bg-textfield">
                                    <label>
                                        ¿Cuál es tu estado civil?
                                    </label>
                                    <div class="bg-dropdown">
                                        <select id="idSelectEstadoCivil">
                                            @foreach (var item in Model.estados)
                                            {
                                                var desc = item.Descripcion.ToUpperFirstLetter();
                                                <option value="@item.IdCodigo" selected="@(desc == Model.EstadoCivil)">@desc</option>
                                            }
                                        </select>
                                    </div>
                                </div>


                                <div id="idBoxSoloParaCasado">
                                    <label class="bg-checkfield" for="checkboxSe" style="padding: 0">
                                        <div class="bg-col">
                                            <div class="bg-checkbox">
                                                <input type="checkbox" id="checkboxSe">
                                                <label for="checkboxSe"></label>
                                            </div>
                                        </div>
                                        <div class="bg-col">
                                            <label for="checkbox">Con separación de bienes</label><br>
                                        </div>
                                    </label>
                                    <label class="bg-checkfield" for="checkboxDis" style="padding: 0">
                                        <div class="bg-col">
                                            <div class="bg-checkbox">
                                                <input type="checkbox" id="checkboxDis">
                                                <label for="checkboxDis"></label>
                                            </div>
                                        </div>
                                        <div class="bg-col">
                                            <label for="checkbox">Disolución conyugal</label><br>
                                        </div>
                                    </label>


                                    <div class="bg-textfield">
                                        <label>¿Cuál es el número de cédula de tu cónyuge?</label>
                                        <input class="bg-textbox" pattern="" id="" inputmode="" value="" type="number" data-filter="" data-limit="10">
                                    </div>
                                    <div class="bg-infoForm">
                                        <p>
                                            Necesitamos verificar esta información, por favor compártenos un documento que la sustente.
                                        </p>
                                        <table cellpadding="0" cellspacing="0" border="0" style="width: 100%; text-align: left;" align="center">
                                            <tr>
                                                <td style="padding-top: 10px;">
                                                    <p style="display: inline-block;">Acta de matrimonio</p>
                                                    <div class="upload-btn-wrapper" style="display: inline-block; padding-top: 10px;">
                                                        <button class="btn"><i class="fas fa-upload"></i></button>
                                                        <input type="file" name="myfile" />
                                                    </div>
                                                </td>

                                            </tr>
                                        </table>
                                    </div>
                                </div>


                                <div class="bg-margin-top-medium" style="text-align: center;">
                                    <a href="#" id="" class="bg-button bg-primary">
                                        <span>Continuar</span>
                                    </a>
                                </div>
                                <div class="bg-margin-top-medium bg-margin-bottom-medium" style="text-align: center;">
                                    <a href="#" id="idBackToQuestion" class=" linkBG02">Volver</a>
                                </div>
                            </div>


                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script src="~/Scripts/romads.min.js"></script>

<script>
    var SelectedTextEstado = $("#idSelectEstadoCivil").find("option:selected").text();
    ShowOrHideOption(SelectedTextEstado);
    console.log('afuera ' + SelectedTextEstado);

    $('#idSelectEstadoCivil').on('change', function () {
        var SelectedText = $(this).find("option:selected").text();
        ShowOrHideOption(SelectedText)
        console.log('adentro ' + SelectedText);
    })

    function ShowOrHideOption(estado) {
        if (estado === "Casado/a") {
            $("#idBoxSoloParaCasado").show();
        } else {
            $("#idBoxSoloParaCasado").hide();
        }
    }
</script>